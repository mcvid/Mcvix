 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Mcvix | Feel the vibe</title>
    <link rel="shortcut icon" href="image copy 6.png" type="image/x-icon">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <div id="overlay">
    <div class="form-container">
      <h1 id="form-title">Sign up to start listening</h1>

   
      <form id="auth-form">
        <input type="email" id="email" placeholder="Email address" required>
        <input type="password" id="password" placeholder="Password (min 6 chars)" minlength="6" required>
        <div id="google-signin-button" class="auth-field"></div>

        <button type="submit" id="submit-btn">Sign Up</button>
      </form>
      <p id="toggle-text">
        Already have an account? <a href="#" id="toggle-link">Log in here</a>
      </p>
      <p id="error-msg" style="color: #e74c3c;"></p>
    </div>
  </div>

  <div id="main-content" >
  <header class="head">
     <div class="top-bar">
      <img class="logo" src="image copy 6.png" >
      <div class="search-container">
        <input
          type="search"
          placeholder="What do you want to play?"
          class="search-bar"
          id="searchInput"/>
        
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <i class="fa-solid fa-xmark clear-icon" id="clearBtn"></i>
      </div>
      <button class="premium-btn">Premium</button>
  <div class="tooltip-container">
    <i class="fa-regular fa-bell notification-icon"></i>
    <span class="custom-tooltip">What's New</span>
  </div>
  <div class="tooltip-container">
    <i class="fa-solid fa-user-group friends-icon"></i>
    <span class="custom-tooltip">Friends</span>
  </div>
  <div class="tooltip-container">
    <div class="profile-menu-container" onclick="toggleDropdown()">
      <div class="profile-avatar" id="profileToggle">M</div>
      <div class="profile-dropdown" id="profileDropdown">
        <ul>
          <li><i class="fa-regular fa-user"></i> Profile</li>
          <li><i class="fa-solid fa-circle-user"></i> Account</li>
          <li><i class="fa-solid fa-gear"></i> Settings</li>
          <hr class="lg">
          <li><i class="fa-solid fa-right-from-bracket"></i> Logout</li>
        </ul>
      </div>
    </div>
    <span class="custom-tooltip">Mcvid</span>
  </div>
     </div>
  </header>
<div class="main-layout">  
<div class="side-bar">
      <div class="buttons">
          <button class="bts" onclick="setActive(this)">Playlists</button>
          <button class="bts" onclick="setActive(this)">Library</button>
      </div>
      <nav class="nav-links">
        <div class="nav-item">
          <a href="#home" data-section="home"><i class="fa fa-home"></i> Home</a>
        </div>
        <div class="nav-item">
          <a href="#library" data-section="library"><i class="fas fa-book"></i> Your Library</a>
        </div>
        <div class="nav-item">
          <a href="#playlist" data-section="create"><i class="fas fa-plus-square"></i> Create Playlist</a>
        </div>
        <div class="nav-item">
          <a href="#liked songs" data-section="liked"><i class="fas fa-heart"></i> Liked Songs</a>
        </div>
      </nav>
</div>
<div class="main-content">
<section id="home" class="section active">
  <div class="filter-bar">
    <button class="bts">All</button>
    <button class="bts">Music</button>
  </div>
  <div>
    <div class="playlist-grid-wrapper">
      <div class="playlist-grid">
        <div class="playlist-card">
          <img src="/image copy 16.png" alt="Liked Songs">
          <span>Liked Songs</span>
          <div class="play-hover"><i class="fas fa-play"></i></div>
        </div>
        <div class="playlist-card">
          <img src="/image copy 15.png" alt="Twinkle Twinkle">
          <span>Twinkle Twinkle</span>
          <div class="play-hover"><i class="fas fa-play"></i></div>
        </div>
        <div class="playlist-card">
          <img src="energetic.png" alt="Energetic Coding Mix">
          <span>Energetic Coding Mix</span>
          <div class="play-hover"><i class="fas fa-play"></i></div>
        </div>
        <div class="playlist-card">
          <img src="chill.png" alt="Chill Coding Mix">
          <span>Chill Coding Mix</span>
          <div class="play-hover"><i class="fas fa-play"></i></div>
        </div>
        <div class="playlist-card">
          <img src="/image copy 13.png" alt="Justin Bieber">
          <span>Justin Bieber</span>
          <div class="play-hover"><i class="fas fa-play"></i></div>
        </div>
    </div>
  <h2>Made For You</h2>
  <div class="daily-mix-container">
    <button class="arrow left" onclick="scrollSlider(this, 'left')">&#8249;</button>
    <div class="daily-mix-slider" id="MixSlider">
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 9.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
          <span class="mix-type">For You</span>
          <span class="mix-number">01</span>
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Alan Walker </span><br>Find out the best and more
      </p>
    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 10.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
          <span class="mix-type">For You</span>
          <span class="mix-number">02</span>
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Adele </span><br>Find out the best and more
      </p>
     <audio id="dailyMixAudio" src="your-song-file.mp3"></audio>

    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 19.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Ice Spice</span><br>Find out the best and more
      </p>
     <audio id="dailyMixAudio" src="your-song-file.mp3"></audio>

    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 11.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
          <span class="mix-type">For You</span>
          <span class="mix-number">03</span>
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Imagine Dragons </span><br>Find out the best and more
      </p>
    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 17.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
          <span class="mix-type">Daily Mix</span>
          <span class="mix-number">01</span>
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Central Cee </span><br>Find out the best and more
      </p>
    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 12.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
          <span class="mix-type">For You</span>
          <span class="mix-number">04</span>
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Fik Famieca </span><br>Find out the best and more
      </p>
    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 14.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
          </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Alan Walker </span><br>Find out the best and more
      </p>
    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 8.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
          </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Alan Walker </span><br>Find out the best and more
      </p>
    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 17.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Central Cee </span><br>Find out the best and more
      </p>
    </div>
    <div class="daily-mix-card">
      <div class="image-wrapper">
        <img src="/image copy 13.png" alt="Daily Mix Cover">
        <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
        <div class="mix-labels">
        </div>
        <div class="play-icon">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <p class="mix-description">
        <span class="name">Alan Walker </span><br>Find out the best and more
      </p>
    </div>
  </div>
  <button class="arrow right" onclick="scrollSlider(this, 'right')">&#8250;</button>
</div>
<h2>Recommended</h2>
<div class="daily-mix-container">
  <button class="arrow left" onclick="scrollSlider(this, 'left')">&#8249;</button>
  <div class="daily-mix-slider" id="Made">
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 9.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 17.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Central Cee </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 10.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Adele </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 11.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 19.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Ice Spice</span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 12.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 14.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 8.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 17.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Central Cee </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 13.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
</div>
<button class="arrow right" onclick="scrollSlider(this, 'right')">&#8250;</button>
</div>
<h2>Recommended</h2>
<div class="daily-mix-container">
  <button class="arrow left" onclick="scrollSlider(this, 'left')">&#8249;</button>
  <div class="daily-mix-slider" id="Made">
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 9.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 17.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Central Cee </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 10.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Adele </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 11.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 19.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Ice Spice</span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 12.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
  <div class="daily-mix-card">
    <div class="image-wrapper">
      <img src="/image copy 14.png" alt="Daily Mix Cover">
      <img src="/image copy 6.png" class="spotify-icon" alt="Spotify Logo">
      <div class="mix-labels">
      </div>
      <div class="play-icon">
        <i class="fas fa-play"></i>
      </div>
    </div>
    <p class="mix-description">
      <span class="name">Alan Walker </span><br>Find out the best and more
    </p>
  </div>
</div>
<button class="arrow right" onclick="scrollSlider(this, 'right')">&#8250;</button>
</div>
<h2>New Releases</h2>
<div class="card-row">
  <div class="card">
    <img src="cover3.jpg" alt="Album">
    <p>New Vibes</p>
  </div>
</div>
</section>
<section id="search" class="section">
  <h2>Search</h2>
</section>
<section id="library" class="section">
  <h2>Your Library</h2>
</section>
</div>
<section class="right-panel" id="home-right-panel" >
</section>
</div>   
<div class="playing">
</div>
<div class="bottom-nav">
<a href="#" class="nav-item" data-section="home">
  <i class="fa fa-home"></i>
  <span class="label">Home</span>
</a>
<a href="#" class="nav-item" data-section="library">
  <i class="fas fa-book"></i>
  <span class="label">Library</span>
</a>
<a href="#" class="nav-item" data-section="create">
  <i class="fas fa-plus-square"></i>
  <span class="label">Create</span>
</a>
<a href="#" class="nav-item" data-section="liked">
  <i class="fas fa-heart"></i>
  <span class="label">Liked</span>
</a>
</div>
  </div>
  
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="index.js"></script>
<script>
 <script>
  <script>
  const audioPlayer = document.getElementById('audioPlayer');
  let currentCard = null;

  document.querySelectorAll('.daily-mix-card').forEach(card => {
    card.addEventListener('click', () => {
      const audioSrc = card.getAttribute('data-audio');

      if (currentCard !== card) {
        // New card clicked
        audioPlayer.src = audioSrc;
        audioPlayer.play();
        updateIcons(currentCard, false);  // reset old icon
        updateIcons(card, true);          // set new icon to pause
        currentCard = card;
      } else {
        // Same card clicked again — toggle play/pause
        if (audioPlayer.paused) {
          audioPlayer.play();
          updateIcons(card, true);
        } else {
          audioPlayer.pause();
          updateIcons(card, false);
        }
      }
    });
  });

  function updateIcons(card, isPlaying) {
    if (!card) return;
    const icon = card.querySelector('.play-icon i');
    if (icon) {
      icon.classList.toggle('fa-play', !isPlaying);
      icon.classList.toggle('fa-pause', isPlaying);
    }
  }

  // Optional: reset icon when song ends
  audioPlayer.addEventListener('ended', () => {
    updateIcons(currentCard, false);
    currentCard = null;
  });




  function decodeJwtResponse(token) {
    let base64Url = token.split('.')[1];
    let base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
    let jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
    return JSON.parse(jsonPayload);
  }

  // Toggle between Sign Up and Log In
  let isSignup = true;
  const formTitle = document.getElementById('form-title');
  const submitBtn = document.getElementById('submit-btn');
  const toggleTextP = document.getElementById('toggle-text');
  const errorMsg = document.getElementById('error-msg');
  function toggleForm(e) {
    e.preventDefault();
    isSignup = !isSignup;
    if (isSignup) {
      formTitle.textContent = "Sign up to start listening";
      submitBtn.textContent = "Sign Up";
      toggleTextP.innerHTML = 'Already have an account? <a href="#" id="toggle-link">Log in here</a>';
    } else {
      formTitle.textContent = "Log in to continue";
      submitBtn.textContent = "Log In";
      toggleTextP.innerHTML = 'Don\'t have an account? <a href="#" id="toggle-link">Sign up here</a>';
    }
    errorMsg.textContent = "";
    document.getElementById('toggle-link').addEventListener('click', toggleForm);
    validateInputs();
  }
  document.getElementById('toggle-link').addEventListener('click', toggleForm);

  // Real-time validation of email/password
  const emailInput = document.getElementById('email');
  const passInput = document.getElementById('password');
  function validateInputs() {
    let emailValid = emailInput.checkValidity();
    let passValid  = passInput.checkValidity();
    if (!emailValid) {
      errorMsg.textContent = "Please enter a valid email address.";
    } else if (!passValid) {
      errorMsg.textContent = "Password must be at least 6 characters.";
    } else {
      errorMsg.textContent = "";
    }
    submitBtn.disabled = !emailValid || !passValid;
  }
  emailInput.addEventListener('input', validateInputs);
  passInput.addEventListener('input', validateInputs);

  // Helper to get/set accounts object in localStorage
  function getAccounts() {
    return JSON.parse(localStorage.getItem('accounts') || '{}');
  }
  function saveAccounts(accounts) {
    localStorage.setItem('accounts', JSON.stringify(accounts));
  }
  function getSessionUser() {
    return localStorage.getItem('sessionUser');
  }

  // Handle form submission (Sign Up or Log In)
  document.getElementById('auth-form').addEventListener('submit', function(e) {
    e.preventDefault();
    let email = emailInput.value.trim().toLowerCase();
    let password = passInput.value;
    let accounts = getAccounts();

    if (isSignup) {
      // Sign-up flow
      if (accounts[email]) {
        errorMsg.textContent = "Account already exists. Please log in.";
      } else {
        accounts[email] = { password: password };
        saveAccounts(accounts);
        localStorage.setItem('sessionUser', email);
        showMainContent(email);
      }
    } else {
      // Login flow
      if (!accounts[email]) {
        errorMsg.textContent = "No account found with that email.";
      } else if (accounts[email].password !== password) {
        errorMsg.textContent = "Incorrect password.";
      } else {
        localStorage.setItem('sessionUser', email);
        showMainContent(email);
      }
    }
  });

  // Google Sign-In callback
  function handleGoogleResponse(response) {
    const data = decodeJwtResponse(response.credential);
    const email = data.email;
    let accounts = getAccounts();
    if (!accounts[email]) {
      accounts[email] = { password: null, name: data.name || '' };
      saveAccounts(accounts);
    }
    localStorage.setItem('sessionUser', email);
    showMainContent(email, data.name);
  }

  // Initialize Google Sign-In and handle existing session
  window.onload = function() {
    google.accounts.id.initialize({
      client_id: "YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com",
      callback: handleGoogleResponse
    });
    google.accounts.id.renderButton(
      document.getElementById("google-signin-button"),
      { theme: "outline", size: "large", width: 300, text: "signup_with" }
    );
    // Prefill email if previously logged in
    const savedUser = getSessionUser();
    if (savedUser) {
      emailInput.value = savedUser;
    }
    validateInputs();
  };

  // Show main interface after successful login/signup
  function showMainContent(email, name) {
    document.getElementById('overlay').style.display = 'none';
    document.getElementById('main-content').style.display = 'block';
    const displayName = name || email.split('@')[0];
    document.getElementById('user-name').textContent = displayName;
  }
</script>
</body>
</html>
